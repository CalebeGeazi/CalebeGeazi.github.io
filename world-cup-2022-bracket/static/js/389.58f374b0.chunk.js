"use strict";(self.webpackChunkworld_cup_2022_bracket=self.webpackChunkworld_cup_2022_bracket||[]).push([[389],{1389:function(e,t,a){a.r(t),a.d(t,{default:function(){return v}});var s=a(885),l=a(2791),c=a(4139),r=a(4673),d=a(7641),n=a(1413),m=a(2982),o=a(9262),i=a(1838),u=a(184),h=function(e){var t=(0,m.Z)(e.bracket),a=function(a){if("Placeholder"!==e.match.team1.name&&"Placeholder"!==e.match.team2.name){if(a.id===e.match.team1.id?(a.selected=!a.selected,e.match.team1=a,a.selected&&e.match.team2.selected&&(e.match.team2.selected=!e.match.team2.selected)):(a.selected=!a.selected,e.match.team2=a,a.selected&&e.match.team1.selected&&(e.match.team1.selected=!e.match.team1.selected)),t[e.round][e.match.id]=e.match,e.round<3){var s=(0,m.Z)(t[e.round+1]);e.match.id%2===0?a.selected?s[Math.floor(e.match.id/2)].team1=(0,n.Z)({},a):s[Math.floor(e.match.id/2)].team1=i.Z:a.selected?s[Math.floor(e.match.id/2)].team2=(0,n.Z)({},a):s[Math.floor(e.match.id/2)].team2=i.Z,s[Math.floor(e.match.id/2)].team1.selected=!1,s[Math.floor(e.match.id/2)].team2.selected=!1,t[e.round+1]=s,e.round<=1&&(Math.floor(e.match.id/2)%2===0?(t[e.round+2][Math.floor(e.match.id/4)].team1=i.Z,t[e.round+2][Math.floor(e.match.id/4)].team2.selected=!1):(t[e.round+2][Math.floor(e.match.id/4)].team2=i.Z,t[e.round+2][Math.floor(e.match.id/4)].team1.selected=!1),0===e.round&&(Math.floor(e.match.id/4)%2===0?(t[e.round+3][0].team1=i.Z,t[e.round+3][0].team2.selected=!1):(t[e.round+3][0].team2=i.Z,t[e.round+3][0].team1.selected=!1)))}e.setBracket(t)}var l=0;t.flat().map((function(e){return e.team1.selected&&l++,e.team2.selected&&l++,null})),e.setTeamsSelected(l),console.log(l),15===l?e.setChampHandler(a.id):e.setChampHandler(!1)},s=e.match&&e.match.team1?e.match.team1:i.Z,l=e.match&&e.match.team2?e.match.team2:i.Z;return(0,u.jsx)("div",{className:"match",children:(0,u.jsxs)("div",{className:"teams border border-slate-400 rounded-tl-3xl rounded-br-3xl shadow-xl",children:[(0,u.jsx)(o.Z,{team:s,onSelected:a,size:"small"}),(0,u.jsx)(o.Z,{team:l,onSelected:a,size:"small"})]})})},f=function(e){var t=e.matches.map((function(t){return t?(0,u.jsx)(h,{match:t,round:e.round,bracket:e.bracket,setBracket:e.setBracket,teamsSelected:e.teamsSelected,setTeamsSelected:e.setTeamsSelected,setChampHandler:e.setChampHandler},t.id):(0,u.jsx)(h,{},t.id)}));return(0,u.jsxs)("div",{className:"section flex mb-7",children:[(0,u.jsx)("div",{className:"matchups flex flex-col justify-between w-full",children:t}),(0,u.jsxs)("div",{className:"connector flex items-center",children:[(0,u.jsx)("div",{className:"merger relative w-8 inline-block align-top border-y-2 border-r-2 border-slate-400"}),(0,u.jsx)("div",{className:"line -mr-5 w-8 inline-block align-top border-b-2 border-slate-400"})]})]})},x=function(e){for(var t=[],a=e.bracket[e.round],s=0;s<a.length;s+=2){var l=[];1===a.length?l.push(a[s]):(l.push(a[s]),l.push(a[s+1])),t.push(l)}return(0,u.jsxs)("div",{className:"round ".concat(e.class," w-full shrink-0 border-dashed border-r border-slate-100 px-2"),children:[(0,u.jsx)("div",{className:"text-xl font-bold mb-2 text-slate-600",children:e.name}),t.map((function(t,a){return(0,u.jsx)(f,{matches:t,round:e.round,bracket:e.bracket,setBracket:e.setBracket,teamsSelected:e.teamsSelected,setTeamsSelected:e.setTeamsSelected,setChampHandler:e.setChampHandler},a)}))]})},p=a(2562),b=a(1044),v=function(e){var t=(0,c.nI)(),a=(0,l.useState)(t),n=(0,s.Z)(a,2),m=n[0],o=n[1],i=(0,r.Z)(["result"]),h=(0,s.Z)(i,2),f=h[0],v=h[1];function j(e){var t=f.result;t=(0,c.oi)(e),v("result",t,{path:"/"}),o(e)}var k=t[3][0].team1.selected?p.Z[t[3][0].team1.id]:!!t[3][0].team2.selected&&p.Z[t[3][0].team2.id],Z=(0,l.useState)(k),S=(0,s.Z)(Z,2),g=S[0],N=S[1],w=function(e){N(p.Z[e]),e&&b.ZP.post("/entries/").catch((function(e){return console.error(e.message)}))};return(0,u.jsxs)(d.Z,{children:[g?(0,u.jsx)(l.Suspense,{fallback:(0,u.jsx)("div",{})}):null,(0,u.jsxs)("div",{className:"bracket flex flex-nowrap flex-row",id:"bracket",children:[m.map((function(t,a){var s="",l="";return 0===a?(s="Round of 16",l="rd16"):1===a?(s="Quarterfinals",l="quarterfinals"):2===a?(s="Semifinals",l="semifinals"):3===a&&(s="Final",l="final"),(0,u.jsx)(x,{name:s,class:l,round:a,bracket:m,setBracket:j,teamsSelected:e.teamsSelected,setTeamsSelected:e.setTeamsSelected,setChampHandler:w},a)})),(0,u.jsx)("div",{className:"pr-10"})]})]})}},9262:function(e,t,a){a.d(t,{Z:function(){return d}});var s=a(1842),l=a(1363),c=a(184),r=function(e){var t="Placeholder"===e.team.name,a=1===e.team.position&&e.team.selected?"1st":2===e.team.position&&e.team.selected?"2nd":"",r=1===e.team.position&&e.team.selected?"\ud83e\udd47":2===e.team.position&&e.team.selected?"\ud83e\udd48":"";return(0,c.jsxs)("div",{onClick:function(){return e.onSelected(e.team)},className:"team ".concat(e.team.disabled?"opacity-50 cursor-not-allowed hover:bg-opacity-100":"hover:bg-opacity-50 cursor-pointer"," relative text-center grid grid-cols-4 gap-2 bg-slate-100 p-2 border-b-2 border-slate-300 last:border-none first:rounded-tl-3xl last:rounded-br-3xl ").concat(e.size),children:[(0,c.jsx)("span",{className:"text-4xl md:text-5xl ml-1 md:ml-3 absolute -left-5 -top-2 z-10",role:"img","aria-label":a,children:r}),(0,c.jsx)("div",{className:"relative flex items-center justify-center",children:(0,c.jsx)("img",{className:"team__image w-full py-1",src:"/world-cup-2022-bracket/static/".concat(e.team.name.replaceAll(" ","-"),".png"),alt:e.team.name})}),(0,c.jsx)("div",{className:"col-span-2".concat("small"===e.size?" text-xl":" text-2xl md:text-3xl"," font-bold grid justify-items-start"),children:(0,c.jsx)("div",{className:"flex items-center text-slate-500",children:t?"":e.team.name})}),(0,c.jsx)(s.Z,{sx:{"& .MuiSvgIcon-root":{fontSize:"small"===e.size?32:48}},color:"success",icon:(0,c.jsx)(l.Z,{}),checkedIcon:(0,c.jsx)(l.Z,{}),checked:e.team.selected,disabled:t})]})};r.defaultProps={size:"default"};var d=r}}]);
//# sourceMappingURL=389.58f374b0.chunk.js.map